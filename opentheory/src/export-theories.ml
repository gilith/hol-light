(* ========================================================================= *)
(* EXPORT STANDARD THEORY LIBRARY AND ADDITIONAL THEORIES                    *)
(* Joe Leslie-Hurd                                                           *)
(* ========================================================================= *)

(* ------------------------------------------------------------------------- *)
(* The HOL Light implementation of the standard theory library.              *)
(* ------------------------------------------------------------------------- *)

#use "hol.ml";;

(* ------------------------------------------------------------------------- *)
(* Additional theories.                                                      *)
(* ------------------------------------------------------------------------- *)

loads "opentheory/theories/load.ml";;

(* ------------------------------------------------------------------------- *)
(* Update the theorem database.                                              *)
(* ------------------------------------------------------------------------- *)

update_database ();;

(* ------------------------------------------------------------------------- *)
(* Output the loaded files.                                                  *)
(* ------------------------------------------------------------------------- *)

let () =
    let h = open_out ("opentheory/export/files.txt") in
    let output_filename f = output_string h (f ^ "\n") in
    let () = List.iter output_filename (rev (!loaded_filenames)) in
    let () = close_out h in
    ();;

(* ------------------------------------------------------------------------- *)
(* Test theory.                                                              *)
(* ------------------------------------------------------------------------- *)

(* Uncomment when testing
#use "opentheory/theories/test.ml";;
*)

(* ------------------------------------------------------------------------- *)
(* Testing theory import.                                                    *)
(* ------------------------------------------------------------------------- *)

(*
let thys = Import.list_theories "UpToDate - (Includes base | axiom | empty)";;
let thys = subtract thys ["monoid"; "monoid-comm"];;
map import_theory thys;;
*)

(* ------------------------------------------------------------------------- *)
(* Stop exporting (and generate theory files).                               *)
(* ------------------------------------------------------------------------- *)

export_end ();;
