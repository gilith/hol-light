(* ========================================================================= *)
(* LOAD REGULAR AND OPENTHEORY THEORIES                                      *)
(* Joe Leslie-Hurd                                                           *)
(* ========================================================================= *)

(* ------------------------------------------------------------------------- *)
(* The HOL Light implementation of the standard theory library.              *)
(* ------------------------------------------------------------------------- *)

#use "hol.ml";;

(* ------------------------------------------------------------------------- *)
(* Additional OpenTheory theories.                                           *)
(* ------------------------------------------------------------------------- *)

loads "opentheory/theories/all.ml";;

(* ------------------------------------------------------------------------- *)
(* Update the theorem database.                                              *)
(* ------------------------------------------------------------------------- *)

update_database ();;

(* ------------------------------------------------------------------------- *)
(* Output the loaded files.                                                  *)
(* ------------------------------------------------------------------------- *)

let () =
    let h = open_out ("opentheory/files") in
    let output_filename f = output_string h (f ^ "\n") in
    let () = List.iter output_filename (rev (!loaded_filenames)) in
    let () = close_out h in
    ();;

(* ------------------------------------------------------------------------- *)
(* Test theory.                                                              *)
(* ------------------------------------------------------------------------- *)

(*
#use "opentheory/test.ml";;
*)

(* ------------------------------------------------------------------------- *)
(* Testing theory import.                                                    *)
(* ------------------------------------------------------------------------- *)

(*
let thys = Import.list_theories "UpToDate - (Includes base | axiom | empty)";;
let thys = subtract thys ["monoid"; "monoid-comm"];;
map import_theory thys;;
*)

(* ------------------------------------------------------------------------- *)
(* Stop proof logging (and emit theories).                                   *)
(* ------------------------------------------------------------------------- *)

stop_logging ();;
